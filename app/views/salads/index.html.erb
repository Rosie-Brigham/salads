<!DOCTYPE html>
<html>
<head>
  <title>The Big Salad Share Signup</title>
  <%= csrf_meta_tags %>
  <%= stylesheet_link_tag 'application' %>
  <%= stylesheet_link_tag 'festival' %>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <div class="shooting-star"></div>
  <div class="shooting-star"></div>
  <div class="shooting-star"></div>
  <div class="container">
    <div class="festival-header">
      <h1>The Big Salad Share Signup</h1>
      <p>‚ú® Let the feast commence! ‚ú®</p>
    </div>

    <div class="welcome-message">
    <h2 class="welcome-title">ü•ó Welcome to our Salad Share!</h2>
    
    <div class="welcome-content">
      <p>Thank you for signing up to bring a salad to our big day! On this page you'll find a selection of carefully chosen salads that everyone can enjoy safely. Each recipe is specifically designed to be inclusive for all our guests.
      Whilst we will be serving a hog roast, will a pulled jackfruit vegan alternatice, we wanted to have a good seleciton of salads for all folks to enjoy</p>
    </div>

    <div class="dietary-notice">
      <h3 class="dietary-title">‚ö†Ô∏è Important Dietary Requirements</h3>
      <p>We have guests with the following dietary needs:</p>
      <ul class="dietary-list">
        <li>Mustard allergy</li>
        <li>Nut allergy</li>
        <li>Vegan diet</li>
        <li>Gluten intolerance</li>
      </ul>
    </div>

    <div class="safety-instructions">
      <h3 class="safety-title">üîç Safety Instructions</h3>
      <p>Please ensure you:</p>
      <ul class="safety-list">
        <li>Follow the recipe exactly as provided</li>
        <li>Prepare your salad in a clean environment</li>
        <li>Avoid cross-contamination with any of the above allergens during preparation</li>
      </ul>
    </div>

    <div class="on-the-day">
      <h3 class="on-the-day-title">‚ú® On the day!</h3>
      <p>When you arrive at the venue:</p>
      <ul class="on-the-day-list">
        <li>Have you salad in an approrait tupperware</li>
        <li>Please look for the Lords Commandant of Salads (persons in charge of salads) who will be loitering in the silk mill by the kitchen to take your beautifully prepared salads</li>
        <li>Nai, Cam and Calumn are our Lords Commandand of Salads - look out for them! They will take your salad and organise things from there </li>
        <span class="salad-royalty">
          <img src="https://images.squarespace-cdn.com/content/v1/6061a1a47b1b6f5999221be2/1618041471132-LFQQZYCF7B6TNC3M7ZL8/Naomi.jpg" alt="Nai, the Salad Queen" class="salad-queen">
          <img src="https://media.licdn.com/dms/image/v2/D4E03AQFJ_QHCLvknhQ/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1714999205909?e=1744848000&v=beta&t=l0icZ7sLLjJnR94lRJZvZ6UPH-1_CYnzu-EuxVc7RF4" alt="Cam, the Salad King" class="salad-king">
          <img src="https://media.licdn.com/dms/image/v2/D4E35AQF4e9FePMErpA/profile-framedphoto-shrink_100_100/profile-framedphoto-shrink_100_100/0/1686080104570?e=1740092400&v=beta&t=t0fClQt6X7jM1tuPbUQYGGW8PXIpWGWpKQW-5Pv55SQ" alt="Calumn, the Salad Prince" class="salad-prince">
        </span>   
      </ul>
    </div>
  </div>

    <% if notice %>
      <div class="alert alert-success"><%= notice.html_safe %></div>
    <% end %>

    <% if alert %>
      <div class="alert alert-danger"><%= alert %></div>
    <% end %>

    <div class="salad-grid">
      <% @salads.each do |salad| %>
        <div class="salad-card">
          <% if salad.image_url.present? %>
            <%= image_tag salad.image_url, class: "salad-image", alt: salad.name %>
          <% end %>
          
          <div class="salad-content">
            <h2 class="salad-title"><%= salad.name %></h2>
            <p class="salad-description"><%= salad.description %></p>
            
            <div class="ingredients-list">
              <h4>ü•ó Ingredients</h4>
              <% salad.ingredients.split(',').each do |ingredient| %>
                <div class="ingredient-item"><%= ingredient.strip %></div>
              <% end %>
            </div>

            <div class="remaining-count">
              <% if salad.remaining_count > 0 %>
                <%= salad.remaining_count %> out of <%= salad.total_needed %> portions needed
              <% else %>
                All portions claimed! üéâ
              <% end %>
            </div>

            <% if salad.instructions_url.present? %>
              <div class="instructions-block">
                <div class="instructions-header">
                  <h4>üìù Recipe Instructions</h4>
                  <%= link_to "View recipe", salad.instructions_url, 
                      class: "instructions-link", 
                      target: "_blank",
                      title: "Open recipe instructions in new tab" %>
                </div>
              </div>
            <% end %>

            <% if salad.signups.any? %>
              <div class="signup-list">
                <h4>üåü Wonderful humans bringing this salad</h4>
                <% salad.signups.each do |signup| %>
                  <div class="signup-item">
                    <%= signup.name %>
                    <%= button_to 'Remove', salad_signup_path(salad, signup), 
                        method: :delete, 
                        class: 'festival-btn delete',
                        data: { turbo_confirm: 'Are you sure?' } %>
                  </div>
                <% end %>
              </div>
            <% else %>
              <div class="signup-list">
                <h4>Be the first to bring this salad! ‚ú®</h4>
              </div>
            <% end %>

            <% if salad.available? %>
              <%= form_for [salad, @signup], html: { class: 'signup-form' } do |f| %>
                <%= f.text_field :name, placeholder: "Your name", class: "form-control" %>
                <%= f.submit "Count me in! üéâ", class: "festival-btn" %>
              <% end %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</body>
</html>